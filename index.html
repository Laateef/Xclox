<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xclox: Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xclox
   </div>
   <div id="projectbrief">C++11 header-only cross-platform date and time library with an asynchronous NTP client</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Introduction"></a>
Introduction</h1>
<p><b>Xclox</b> is a header-only cross-platform date and time library for C++. It offers a high-level approach to creating, manipulating, and formatting times, dates, and datetimes. It provides a flexible and advanced NTP client for querying internet time in an asynchronous fashion based on the ASIO library. It has been thoroughly tested, as its development has been test-driven (TDD).</p>
<h1><a class="anchor" id="Demonstration"></a>
Demonstration</h1>
<p>The following example shows only the basic functionalities of the library. For further details, please see the full pages of the particular classes and their unit tests.</p>
<p><a class="el" href="classxclox_1_1Time.html" title="Time is an immutable time class representing a time without a time zone in the ISO-8601 calendar syst...">xclox::Time</a>, <a class="el" href="classxclox_1_1Date.html" title="Date is an immutable class representing a date without a time zone in the ISO-8601 calendar system,...">xclox::Date</a>, <a class="el" href="classxclox_1_1DateTime.html" title="DateTime is an immutable class representing a datetime without a time zone in the ISO-8601 calendar s...">xclox::DateTime</a>, <a class="el" href="classxclox_1_1ntp_1_1Client.html" title="Client is an asynchronous multi-query NTP client.">xclox::ntp::Client</a>.</p>
<h2><a class="anchor" id="Example"></a>
Example</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;xclox.hpp&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Library Version</span></div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;\nCurrent Version: &quot;</span> &lt;&lt; XCLOX_VERSION_STRING</div>
<div class="line">                  &lt;&lt; <span class="stringliteral">&quot;\n\tMajor: &quot;</span> &lt;&lt; XCLOX_VERSION_MAJOR</div>
<div class="line">                  &lt;&lt; <span class="stringliteral">&quot;\n\tMinor: &quot;</span> &lt;&lt; XCLOX_VERSION_MINOR</div>
<div class="line">                  &lt;&lt; <span class="stringliteral">&quot;\n\tPatch: &quot;</span> &lt;&lt; XCLOX_VERSION_PATCH</div>
<div class="line">                  &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Time</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classxclox_1_1Time.html">xclox::Time</a> t(1, 2, 3);</div>
<div class="line"> </div>
<div class="line">        assert(t.hour() == 1);</div>
<div class="line">        assert(t.minute() == 2);</div>
<div class="line">        assert(t.second() == 3);</div>
<div class="line"> </div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;\nRandom Time: &quot;</span></div>
<div class="line">                  &lt;&lt; <span class="stringliteral">&quot;\n\t Default Format: &quot;</span> &lt;&lt; t</div>
<div class="line">                  &lt;&lt; <span class="stringliteral">&quot;\n\t Compact Format: &quot;</span> &lt;&lt; t.toString(<span class="stringliteral">&quot;hhmmss&quot;</span>)</div>
<div class="line">                  &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Date</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="classxclox_1_1Date.html">xclox::Date</a> d(2003, 2, 1);</div>
<div class="line"> </div>
<div class="line">        assert(d.year() == 2003);</div>
<div class="line">        assert(d.month() == 2);</div>
<div class="line">        assert(d.day() == 1);</div>
<div class="line"> </div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;\nRandom Date: &quot;</span></div>
<div class="line">                  &lt;&lt; <span class="stringliteral">&quot;\n\t Default Format: &quot;</span> &lt;&lt; d</div>
<div class="line">                  &lt;&lt; <span class="stringliteral">&quot;\n\t Compact Format: &quot;</span> &lt;&lt; d.toString(<span class="stringliteral">&quot;yyyyMMdd&quot;</span>)</div>
<div class="line">                  &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// DateTime</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">using namespace </span>xclox;</div>
<div class="line"> </div>
<div class="line">        DateTime dt(Date(2006, 5, 4), Time(3, 2, 1));</div>
<div class="line"> </div>
<div class="line">        assert(dt.year() == 2006);</div>
<div class="line">        assert(dt.month() == 5);</div>
<div class="line">        assert(dt.day() == 4);</div>
<div class="line">        assert(dt.hour() == 3);</div>
<div class="line">        assert(dt.minute() == 2);</div>
<div class="line">        assert(dt.second() == 1);</div>
<div class="line"> </div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;\nRandom DateTime: &quot;</span></div>
<div class="line">                  &lt;&lt; <span class="stringliteral">&quot;\n\t Default Format: &quot;</span> &lt;&lt; dt</div>
<div class="line">                  &lt;&lt; <span class="stringliteral">&quot;\n\t Another Format: &quot;</span> &lt;&lt; dt.toString(<span class="stringliteral">&quot;yyyy-MM-dd hh:mm:ss.f&quot;</span>)</div>
<div class="line">                  &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// NTP Client</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">using namespace </span>xclox::ntp;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">bool</span> passed {};</div>
<div class="line">        {</div>
<div class="line">            Client client([&amp;](</div>
<div class="line">                              <span class="keyword">const</span> std::string&amp; name,</div>
<div class="line">                              <span class="keyword">const</span> std::string&amp; address,</div>
<div class="line">                              <a class="code" href="classxclox_1_1ntp_1_1Client.html#a39ab535515fb298443f083e5ac0d5361">Client::Status</a> status,</div>
<div class="line">                              <span class="keyword">const</span> Packet&amp; packet,</div>
<div class="line">                              <span class="keyword">const</span> std::chrono::steady_clock::duration&amp; rtt) {</div>
<div class="line">                <span class="keyword">const</span> <span class="keyword">auto</span>&amp; destinationTime = std::chrono::system_clock::now();</div>
<div class="line"> </div>
<div class="line">                assert(name == <span class="stringliteral">&quot;pool.ntp.org&quot;</span>);</div>
<div class="line">                assert(address.empty() == <span class="keyword">false</span>);</div>
<div class="line">                assert(status == <a class="code" href="classxclox_1_1ntp_1_1Query.html#ad99c0f3c26c903e6e384daba1507d4d3a66d02c2f8a582446f8dd8752366002b5">Client::Status::Succeeded</a>);</div>
<div class="line">                assert(packet.isNull() == <span class="keyword">false</span>);</div>
<div class="line">                assert(packet.offset(destinationTime) &lt; std::chrono::seconds(1));</div>
<div class="line">                assert(rtt &gt; std::chrono::nanoseconds(1));</div>
<div class="line">                assert(rtt &lt; std::chrono::milliseconds(QuerySeries::DefaultTimeout::ms));</div>
<div class="line"> </div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;\nCurrent NTP Time: &quot;</span></div>
<div class="line">                          &lt;&lt; <a class="code" href="classxclox_1_1DateTime.html">xclox::DateTime</a>(destinationTime + packet.offset(destinationTime))</div>
<div class="line">                          &lt;&lt; std::endl;</div>
<div class="line">                passed = <span class="keyword">true</span>;</div>
<div class="line">            });</div>
<div class="line">            client.query(<span class="stringliteral">&quot;pool.ntp.org&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">        assert(passed);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclassxclox_1_1DateTime_html"><div class="ttname"><a href="classxclox_1_1DateTime.html">xclox::DateTime</a></div><div class="ttdoc">DateTime is an immutable class representing a datetime without a time zone in the ISO-8601 calendar s...</div><div class="ttdef"><b>Definition:</b> datetime.hpp:45</div></div>
<div class="ttc" id="aclassxclox_1_1Date_html"><div class="ttname"><a href="classxclox_1_1Date.html">xclox::Date</a></div><div class="ttdoc">Date is an immutable class representing a date without a time zone in the ISO-8601 calendar system,...</div><div class="ttdef"><b>Definition:</b> date.hpp:84</div></div>
<div class="ttc" id="aclassxclox_1_1Time_html"><div class="ttname"><a href="classxclox_1_1Time.html">xclox::Time</a></div><div class="ttdoc">Time is an immutable time class representing a time without a time zone in the ISO-8601 calendar syst...</div><div class="ttdef"><b>Definition:</b> time.hpp:46</div></div>
<div class="ttc" id="aclassxclox_1_1ntp_1_1Client_html_a39ab535515fb298443f083e5ac0d5361"><div class="ttname"><a href="classxclox_1_1ntp_1_1Client.html#a39ab535515fb298443f083e5ac0d5361">xclox::ntp::Client::Status</a></div><div class="ttdeci">Query::Status Status</div><div class="ttdoc">Type of query status.</div><div class="ttdef"><b>Definition:</b> client.hpp:55</div></div>
<div class="ttc" id="aclassxclox_1_1ntp_1_1Query_html_ad99c0f3c26c903e6e384daba1507d4d3a66d02c2f8a582446f8dd8752366002b5"><div class="ttname"><a href="classxclox_1_1ntp_1_1Query.html#ad99c0f3c26c903e6e384daba1507d4d3a66d02c2f8a582446f8dd8752366002b5">xclox::ntp::Query::Status::Succeeded</a></div><div class="ttdeci">@ Succeeded</div><div class="ttdoc">The client received the server's packet successfully.</div></div>
</div><!-- fragment --><h2><a class="anchor" id="Output"></a>
Output</h2>
<div class="fragment"></div><!-- fragment --><h1><a class="anchor" id="Installation"></a>
Installation</h1>
<p>The library is header-only, so to link it to your project, just add the path of its include directory. Please note that the NTP client depends on the Boost.ASIO networking library. So, to use it, you need to build the unit tests (and optionally run them), as this installs ASIO automatically. </p><div class="fragment"><div class="line">cd xclox_src_dir</div>
<div class="line">cmake -B build</div>
<div class="line">cmake --build build</div>
<div class="line">ctest --test-dir build\test</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
